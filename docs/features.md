- [功能列表](#功能列表)
  - [用户角色模块(IAM)](#用户角色模块iam)
  - [节点管理(NODE)](#节点管理node)
  - [区域管理(REGION)](#区域管理region)
  - [集群管理(CLUSTER)](#集群管理cluster)
  - [平台全局设置(SETTING)](#平台全局设置setting)

# 功能列表

## 用户角色模块(IAM)

| 模块 |  功能类型   |       功能点       | 描述                                                         |
| :--: | :---------: | :----------------: | :----------------------------------------------------------- |
| 用户 | 创建 / 添加 |      创建用户      | 1. 创建新用户，设置角色和密码 (拥有相应权限)<br>2. 在对接外部用户时，禁用此功能 (对接外部 LDAP, AD 或 oauth2 服务等) |
|      |    查看     |    查看用户列表    | 1. 查看用户列表 (拥有相应权限)<br>2. 支持用户名，邮箱等查找筛选 |
|      | 编辑 / 管理 |      编辑用户      | 1. 编辑用户角色及重置用户密码 (拥有相应权限，且用户名也无法修改，系统默认用户 admin 不不可编辑)<br>2. 在对接外部用户时，禁用更改密码功能 (用户的密码应在外部用户提供方更改， 但是可以在平台更改当前平台角色) |
|      | 编辑 / 管理 |      删除用户      | 1. 删除用户 (拥有相应权限，系统用户 admin 不可编辑)<br>2. 在对接外部用户时，禁用删除用户功能 (用户的删除应在外部用户提供方删除) |
| 角色 | 创建 / 添加 |      创建角色      | 1. 创建自定义角色 (拥有相应权限)<br>2. 系统会有一些内置角色  |
|      |    查看     |    查看角色列表    | 1. 查看角色列表(拥有相应权限)<br>2. 支持角色名筛选<br>3. 查看角色的权限详情 |
|      |    查看     | 查看角色绑定的用户 | 1. 根据角色查找绑定的用户信息                                |
|      | 编辑 / 管理 |      编辑角色      | 1. 编辑角色描述或权限 (内置角色不可编辑)                     |
|      | 编辑 / 管理 |      删除角色      | 1. 删除自定义角色<br>2. 当角色有绑定的用户时，不可删除       |

## 节点管理(NODE)

| 模块 |  功能类型   |           功能点            | 描述                                                         |
| :--: | :---------: | :-------------------------: | :----------------------------------------------------------- |
| 节点 |    查看     |        查看节点列表         | 1. 查看节点列表，可以获取节点的基本信息(kernel, cpu, mem, disk, net, status etc)<br>2. 安装集群之后，可以看到节点属于哪个集群，是什么集群角色(k8s 的 master or worker)<br>3.  支持 hostname,  region 等条件筛选 |
|      | 编辑 / 管理 |         启用 / 禁用         | 1. 启用 / 禁用 节点 (无法对已经加入集群的节点进行这项操作，需要先将节点从集群中剔除才能进行操作)<br>2. 被禁用的节点无法加入集群和进行其他操作 |
|      | 编辑 / 管理 |   加入集群 / 从集群中移除   | 1. 将集群加入节点<br>2. 将节点从集群中移除(移除节点时可能有集群相关的合法性验证，如不能移除但节点集群的节点等) |
|      | 编辑 / 管理 |        连接节点终端         | 1. 输入节点用户名密码，进入节点的 SSH 终端                   |
|      | 编辑 / 管理 | **(*)**对节点进行自定义操作 | 1. 对节点进行自定义操作，包括执行一段脚本或一条命令<br>(后端对操作operation进行抽象，节点加入集群，集群移除节点可以看成内置的operation) |

注意：带`(*)`表示的是高级功能，放在后续版本实现

## 区域管理(REGION)

| 模块 | 功能类型 |             功能点              | 描述                                                 |
| :--: | :------: | :-----------------------------: | :--------------------------------------------------- |
| 区域 |   查看   | 查看区域列表 / 查看区域下的节点 | 1. 查看区域列表或查看详情<br>2. 查看区域下有哪些节点 |

## 集群管理(CLUSTER)

| 模块 |   功能类型    |                   功能点                   | 描述                                                         |
| :--: | :-----------: | :----------------------------------------: | :----------------------------------------------------------- |
| 集群 |     创建      |           创建集群，安装可选插件           | 1. centos / ubuntu 支持<br>2. amd64, arm64 支持 (插件可能不满足)<br>3. docker / containerd 支持 <br>4. 在线离线安装 (插件可能不满足)<br>**(*)**5. 支持最近的3-4个大版本的 k8s 集群<br>6. 多网络插件<br>7. 存储，ks，ingress 等作为可选插件安装 |
|      |     纳管      |          纳管已存在的集群到平台中          | **(*)**1. 纳管原生 k8s 集群， rancher 集群，ks 集群等        |
|      |     查看      |          查询集群 / 查询集群节点           | 1. 查询集群或查看集群详细信息<br>2. 支持集群名称等条件筛选   |
|      |     查看      | 查看集群操作日志 / 操作实时日志 (支持下载) | 1. 操作日志是操作的步骤和状态等信息，粒度较大，可以粗略的查看对集群进行操作时有哪些操作步骤<br>2. 操作实时日志是具体在节点上执行了哪些命令，命令的返回结果等，包含命令的实际标准输出或标准错误输出 |
|      | 编辑 /  管理  |              添加 / 删除 节点              | 1. 同节点添加进集群                                          |
|      | 编辑  /  管理 |                  删除集群                  | 1. 删除集群 (提供优雅删除选项，在删除集群前销毁资源，可能卡住，编码需要进行超时等异常处理) |
|      |  编辑 / 管理  |              集群备份 / 还原               | **(*)**1. etcd 备份还原，不依赖3方组件                       |
|      |  编辑 / 管理  |                  集群升级                  | **(*)**1. 升级集群版本                                       |

**注意**：带`(*)`表示的是高级功能，放在后续版本实现

## 平台全局设置(SETTING)

|  模块   |  功能类型   |              功能点              | 描述 |
| :-----: | :---------: | :------------------------------: | :--- |
| SETTING |    查看     | 查看平台系统信息(前后端版本号等) |      |
|         |    查看     |     **(#)**查看 LICENSE 信息     |      |
|         | 编辑 / 管理 |       (#)更新 LICENSE 信息       |      |
|         | 编辑 / 管理 |    设置常用离线镜像仓库等信息    |      |

**注意**：带`(#)`表示的是企业功能。